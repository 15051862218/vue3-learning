<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>computed示例</title>
    <style>
      [v-cloak] {
        display: none;
      }
    </style>
  </head>
  <body>
    <div id="app" v-cloak>
      <p>{{text}}</p>
      <p>{{fullName}}</p>
    </div>
  </body>

  <script src="https://unpkg.com/vue@next"></script>
  <script>
    const { createApp, computed, reactive } = Vue;
    const App = {
      setup() {
        const student = reactive({
          name: "syk",
          info: "唐三",
        });
        const arr= [4, 9, 16, 25];
        const arr1 = [];
        arr.forEach(i => arr1.push(i))
        console.log(arr)   // [4, 9, 16, 25]
        console.log(arr1)  // [4, 9, 16, 25]


        const person = reactive({
          firstName: "唐",
          lastName: "三",
        });
        //计算属性的简写形式
        const text = computed(() => {
          console.log("111");
          return student.name + "," + student.info;
        });

        //完整语法
        let fullName = computed({
          get() {
            return person.firstName + "-" + person.lastName;
          },
          set(value) {
            const nameArr = value.split("-");

            person.firstName = nameArr[0];
            person.lastName = nameArr[1];
          },
        });

        setTimeout(() => {
          student.name = "syk";
        }, 2000);

        return {
          text,
          fullName,
        };
      },
    };
    createApp(App).mount("#app");
  </script>
</html>